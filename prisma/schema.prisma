generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id            String  @id @default(auto()) @map("_id") @db.ObjectId
  profile_photo String?
  username      String
  email         String
  password      String
}

model Patient {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  profile_photo     String?
  name              String
  owner             String?
  ownerless_patient Boolean?
  specie            String?
  undefined_specie  Boolean?
  race              String?
  undefined_race    Boolean?
  gender            String?
  weight            String?
  prognosis         String?
  diagnosis         Json[]
  physical_shape    String?
  entry_date        String?
  departure_date    String?
  reports           Report[]
  exams             Exam[]
  files             Files[]
}

model Report {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  patientId   String   @db.ObjectId
  shift       String
  author      String
  title       String
  report_text String
  filename    String?
  fileUrl     String?
  fileSize    Int?
  createdAt   String?
  updatedAt   String?
  patient     Patient? @relation(fields: [patientId], references: [id])
}

model Exam {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  patientId    String   @db.ObjectId
  date         String
  author       String
  type_of_exam String
  annotations  String?
  filename     String?
  fileUrl      String?
  fileSize     Int?
  createdAt    String?
  updatedAt    String?
  patient      Patient? @relation(fields: [patientId], references: [id])
}

model Files {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  patientId String   @db.ObjectId
  filename  String
  fileUrl   String
  fileSize  Int?
  Patient   Patient? @relation(fields: [patientId], references: [id])
}
